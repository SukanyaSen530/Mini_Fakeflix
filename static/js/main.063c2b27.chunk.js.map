{"version":3,"sources":["components/Movie.jsx","components/MovieList.jsx","components/SearchBox.jsx","Layout/MoviePage.jsx","App.js","index.js"],"names":["Movie","imdbID","Poster","Title","Year","icon","dispatch","useContext","MovieContext","className","src","alt","onClick","e","type","payload","id","MovieList","movies","map","movie","SearchBox","state","onChange","target","value","placeholder","defaultValue","React","createContext","saveToLocalStoarge","localStorage","setItem","JSON","stringify","initialState","movieData","favmovies","loading","err","reducer","action","error","console","log","filter","m","length","MoviePage","useReducer","useEffect","interval","setTimeout","axios","get","then","response","data","Response","Search","catch","clearInterval","newMovies","parse","getItem","Provider","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2VAKe,SAASA,EAAT,GAAuD,IAAtCC,EAAqC,EAArCA,OAAQC,EAA6B,EAA7BA,OAAQC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,KACnDC,EAAaC,qBAAWC,GAAxBF,SAcR,OACE,0BAASG,UAAU,OAAnB,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKC,IAAKR,EAAQS,IAAKR,EAAOM,UAAU,eACxC,qBAAKA,UAAU,eAAeG,QAhBhB,SAACC,GAEjBP,EADW,aAATD,EACO,CACPS,KAAM,UACNC,QAAS,CAAEd,SAAQC,SAAQC,QAAOC,QAClCY,GAAIf,GAGG,CAAEa,KAAM,aAAcC,QAASd,KAQtC,SACE,mCACE,mBAAGQ,UAAS,cAASJ,EAAT,YAA0B,aAATA,GAAuB,UAC1C,aAATA,EACG,oBACA,gCAIV,mBAAGI,UAAU,QAAb,SAAsBN,IACtB,4BAAIC,O,MCbKa,MAhBf,YAA4C,IAAvBH,EAAsB,EAAtBA,KAAMI,EAAgB,EAAhBA,OAAQb,EAAQ,EAARA,KACjC,OACE,qCACE,6BAAKS,IACL,qBAAKL,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACGS,GACCA,EAAOC,KAAI,SAACC,GAAD,OACT,cAAC,EAAD,2BAA8BA,GAA9B,IAAqCf,KAAMA,IAA/Be,EAAMnB,mBCUjBoB,G,MAnBG,WAChB,MAA4Bd,qBAAWC,GAA/Bc,EAAR,EAAQA,MAAOhB,EAAf,EAAeA,SAMf,OACE,qBAAKG,UAAU,aAAf,SACE,uBACEA,UAAU,eACVc,SARe,SAACV,GACpBP,EAAS,CAAEQ,KAAM,YAAaC,QAASF,EAAEW,OAAOC,SAQ5CC,YAAY,oBACZC,aAAcL,EAAMF,YCVfZ,EAAeoB,IAAMC,cAAc,MAE1CC,EAAqB,SAACZ,GAC1Ba,aAAaC,QAAQ,uBAAwBC,KAAKC,UAAUhB,KAGxDiB,EAAe,CACnBf,MAAO,YACPgB,UAAW,GACXC,UAAW,GACXC,SAAS,EACTC,IAAK,IAGDC,EAAU,SAAClB,EAAOmB,GACtB,IAAIvB,EACJ,OAAQuB,EAAO3B,MACb,IAAK,gBACH,OAAO,2BAAKQ,GAAZ,IAAmBgB,SAAS,EAAMC,IAAKE,EAAOC,QAEhD,IAAK,gBACH,OAAO,2BACFpB,GADL,IAEEgB,SAAS,EACTF,UAAWK,EAAO1B,QAClBwB,IAAKE,EAAOC,QAGhB,IAAK,cAEH,OADAC,QAAQC,IAAIH,EAAOF,KACZ,2BAAKjB,GAAZ,IAAmBgB,SAAS,EAAOC,IAAKE,EAAOC,QAEjD,IAAK,YACH,OAAO,2BACFpB,GADL,IAEEF,MAAOqB,EAAO1B,UAGlB,IAAK,UACH,OAAO,2BACFO,GADL,IAEEe,UAAU,YAAKI,EAAO1B,WAG1B,IAAK,UACH,OAAIO,EAAMe,UAAUQ,QAAO,SAACC,GAAD,OAAOA,EAAE7C,SAAWwC,EAAOzB,MAAI+B,OAAS,EAC1DzB,GAEPJ,EAAM,sBAAOI,EAAMe,WAAb,CAAwBI,EAAO1B,UACrCe,EAAmBZ,GACZ,2BACFI,GADL,IAEEe,UAAWnB,KAIjB,IAAK,aAKH,OAJAA,EAASI,EAAMe,UAAUQ,QACvB,SAACzB,GAAD,OAAWA,EAAMnB,SAAWwC,EAAO1B,WAErCe,EAAmBZ,GACZ,2BACFI,GADL,IAEEe,UAAWnB,IAGf,QACE,OAAOI,IAIE,SAAS0B,IACtB,MAA0BC,qBAAWT,EAASL,GAA9C,mBAAOb,EAAP,KAAchB,EAAd,KA0CA,OAxCA4C,qBAAU,WACR,IAAMC,EAAWC,YAAW,WAC1B9C,EAAS,CAAEQ,KAAM,gBAAiB4B,MAAO,KACzCW,IACGC,IADH,qCACqChC,EAAMF,MAD3C,qBAEGmC,MAAK,SAACC,GAC0B,UAA3BA,EAASC,KAAKC,SAChBpD,EAAS,CACPQ,KAAM,gBACNC,QAASyC,EAASC,KAAKE,OACvBjB,MAAO,KAGTpC,EAAS,CACPQ,KAAM,cACN4B,MAAO,kDAKZkB,OAAM,SAACrB,GACNI,QAAQC,IAAIL,GACZjC,EAAS,CAAEQ,KAAM,cAAe4B,MAAO,iCAE1C,KAEH,OAAO,WACLmB,cAAcV,MAEf,CAAC7B,EAAMF,QAEV8B,qBAAU,WACR,IAAMY,EAAY7B,KAAK8B,MAAMhC,aAAaiC,QAAQ,yBAEhC,OAAdF,GAAsBA,EAAUf,OAAS,IAC3CzC,EAAS,CAAEQ,KAAM,UAAWC,QAAS+C,IACrCnB,QAAQC,IAAIkB,EAAUf,WAEvB,IAGD,cAACvC,EAAayD,SAAd,CAAuBxC,MAAO,CAAEH,QAAOhB,YAAvC,SACE,sBAAKG,UAAU,kBAAf,UACE,oCACE,+CACA,cAAC,EAAD,OAEDa,EAAMgB,SAAW,oBAAI7B,UAAU,WAAd,4BACjBa,EAAMiB,KAAO,oBAAI9B,UAAU,WAAd,SAA0Ba,EAAMiB,MAClB,IAA3BjB,EAAMc,UAAUW,SAAiBzB,EAAMiB,MAAQjB,EAAMgB,SACpD,cAAC,EAAD,CACExB,KAAK,iBACLI,OAAQI,EAAMc,UACd/B,KAAM,aAGkB,IAA3BiB,EAAMe,UAAUU,QAAoC,OAApBzB,EAAMe,WACrC,cAAC,EAAD,CACEvB,KAAK,aACLI,OAAQI,EAAMe,UACdhC,KAAM,6BCjIH6D,MARf,WACE,OACE,mCACE,cAAC,EAAD,OCFNC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.063c2b27.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nimport \"./Movie.css\";\r\n\r\nimport { MovieContext } from \"../Layout/MoviePage\";\r\n\r\nexport default function Movie({ imdbID, Poster, Title, Year, icon }) {\r\n  const { dispatch } = useContext(MovieContext);\r\n\r\n  const handleClick = (e) => {\r\n    if (icon === \"fa-heart\")\r\n      dispatch({\r\n        type: \"ADD_FAV\",\r\n        payload: { imdbID, Poster, Title, Year },\r\n        id: imdbID,\r\n      });\r\n    else {\r\n      dispatch({ type: \"REMOVE_FAV\", payload: imdbID });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <article className=\"Card\">\r\n      <div className=\"image_container\">\r\n        <img src={Poster} alt={Title} className=\"Image_Card\"></img>\r\n        <div className=\"overlay blur\" onClick={handleClick}>\r\n          <button>\r\n            <i className={`fas ${icon} ${icon === \"fa-heart\" && \"fill\"}`}></i>\r\n            {icon === \"fa-heart\"\r\n              ? \"Add To Favourites\"\r\n              : \"Remove From Favourite\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <p className=\"title\">{Title}</p>\r\n      <p>{Year}</p>\r\n    </article>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Movie from \"./Movie\";\r\n\r\nimport \"./MovieList.css\";\r\n\r\nfunction MovieList({ type, movies, icon }) {\r\n  return (\r\n    <>\r\n      <h2>{type}</h2>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {movies &&\r\n            movies.map((movie) => (\r\n              <Movie key={movie.imdbID} {...movie} icon={icon} />\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MovieList;\r\n","import React, { useContext } from \"react\";\r\nimport \"./SearchBox.css\";\r\nimport { MovieContext } from \"../Layout/MoviePage\";\r\n\r\nconst SearchBox = () => {\r\n  const { state, dispatch } = useContext(MovieContext);\r\n\r\n  const handleSearch = (e) => {\r\n    dispatch({ type: \"SET_MOVIE\", payload: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"form_group\">\r\n      <input\r\n        className=\"form_control\"\r\n        onChange={handleSearch}\r\n        placeholder=\"Type to search...\"\r\n        defaultValue={state.movie}\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./MoviePage.css\";\r\n\r\nimport MovieList from \"../components/MovieList\";\r\nimport SearchBox from \"../components/SearchBox\";\r\n\r\nexport const MovieContext = React.createContext(null);\r\n\r\nconst saveToLocalStoarge = (movies) => {\r\n  localStorage.setItem(\"react-app-fav-movies\", JSON.stringify(movies));\r\n};\r\n\r\nconst initialState = {\r\n  movie: \"Toy Story\",\r\n  movieData: [],\r\n  favmovies: [],\r\n  loading: false,\r\n  err: \"\",\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  let movies;\r\n  switch (action.type) {\r\n    case \"FETCH_REQUEST\":\r\n      return { ...state, loading: true, err: action.error };\r\n\r\n    case \"FETCH_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        movieData: action.payload,\r\n        err: action.error,\r\n      };\r\n\r\n    case \"FETCH_ERROR\":\r\n      console.log(action.err);\r\n      return { ...state, loading: false, err: action.error };\r\n\r\n    case \"SET_MOVIE\":\r\n      return {\r\n        ...state,\r\n        movie: action.payload,\r\n      };\r\n\r\n    case \"SET_FAV\":\r\n      return {\r\n        ...state,\r\n        favmovies: [...action.payload],\r\n      };\r\n\r\n    case \"ADD_FAV\":\r\n      if (state.favmovies.filter((m) => m.imdbID === action.id).length > 0) {\r\n        return state;\r\n      } else {\r\n        movies = [...state.favmovies, action.payload];\r\n        saveToLocalStoarge(movies);\r\n        return {\r\n          ...state,\r\n          favmovies: movies,\r\n        };\r\n      }\r\n\r\n    case \"REMOVE_FAV\":\r\n      movies = state.favmovies.filter(\r\n        (movie) => movie.imdbID !== action.payload\r\n      );\r\n      saveToLocalStoarge(movies);\r\n      return {\r\n        ...state,\r\n        favmovies: movies,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function MoviePage() {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    const interval = setTimeout(() => {\r\n      dispatch({ type: \"FETCH_REQUEST\", error: \"\" });\r\n      axios\r\n        .get(`https://www.omdbapi.com/?s=${state.movie}&apikey=53acb18d`)\r\n        .then((response) => {\r\n          if (response.data.Response !== \"False\") {\r\n            dispatch({\r\n              type: \"FETCH_SUCCESS\",\r\n              payload: response.data.Search,\r\n              error: \"\",\r\n            });\r\n          } else {\r\n            dispatch({\r\n              type: \"FETCH_ERROR\",\r\n              error: \"ðŸ’€ MOVIE NOT FOUND! ðŸ’€\",\r\n            });\r\n          }\r\n          //   console.log(response.data.Search, process.env.REACT_APP_API_KEY);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          dispatch({ type: \"FETCH_ERROR\", error: \"SOMETHING WENT WRONG :(\" });\r\n        });\r\n    }, 2000);\r\n\r\n    return () => {\r\n      clearInterval(interval);\r\n    };\r\n  }, [state.movie]);\r\n\r\n  useEffect(() => {\r\n    const newMovies = JSON.parse(localStorage.getItem(\"react-app-fav-movies\"));\r\n    // const movies = newMovies[0];\r\n    if (newMovies !== null && newMovies.length > 0) {\r\n      dispatch({ type: \"SET_FAV\", payload: newMovies });\r\n      console.log(newMovies.length);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <MovieContext.Provider value={{ state, dispatch }}>\r\n      <div className=\"fluid_container\">\r\n        <section>\r\n          <h1>Mini FakeFlix</h1>\r\n          <SearchBox />\r\n        </section>\r\n        {state.loading && <h1 className=\"messages\">Loading &#9685;</h1>}\r\n        {state.err && <h1 className=\"messages\">{state.err}</h1>}\r\n        {state.movieData.length !== 0 && !state.err && !state.loading && (\r\n          <MovieList\r\n            type=\"Search Results\"\r\n            movies={state.movieData}\r\n            icon={\"fa-heart\"}\r\n          />\r\n        )}\r\n        {state.favmovies.length !== 0 && state.favmovies !== null && (\r\n          <MovieList\r\n            type=\"Favourites\"\r\n            movies={state.favmovies}\r\n            icon={\"fas fa-times-circle\"}\r\n          />\r\n        )}\r\n      </div>\r\n    </MovieContext.Provider>\r\n  );\r\n}\r\n\r\n/* {state.movieData.length === 0 && state.favmovies.length === 0 && (\r\n          <h1>Search For Movies</h1>\r\n        )} */\r\n","import \"./App.css\";\n\nimport MoviePage from \"./Layout/MoviePage\";\n\nfunction App() {\n  return (\n    <>\n      <MoviePage />\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}